@page "/collection"
@using TcgFront.Models.Dtos
@using TcgFront.Models.Dtos.Card
@using TcgFront.Services
@inject CardService CardService
@layout TcgFront.Layout.MainLayout

<PageTitle>Collection</PageTitle>

<div class="container-fluid flex-row">
    @if (cards == null)
    {
        <div class="d-flex justify-content-center">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Cargando...</span>
            </div>
        </div>
    }
    else{
         @foreach(var card in cards)
        {
            <div class="card">
                <img class="card-img-top" src="@card.Card.ImageUrl"/>
                <section>
                    <h2>@card.Card.Name</h2>
                    <h3 class="card-subtitle">@card.Card.Rarity?.Name</h3>
                    <h3 class="card-subtitle">@card.Card.Type?.Name</h3>
                    <h3 class="card-subtitle">@card.Card.EnergyType.Name</h3>
                    <h3 class="card-subtitle">@card.Quantity</h3>
                </section>
                <div>

                </div>
            </div>
        }
    }
</div>

@code {
    private List<CollectionDto> cards;
    protected override async Task OnInitializedAsync()
    {
        cards = await CardService.GetUserCollection();
    }
}